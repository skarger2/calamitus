<!DOCTYPE html>
<html lang="en">
<head>
	
	<title>Tienda - Calamitus</title>
	<%-include ('partials/head.html') %>

</head>
<body>
    <%-include ('partials/navigation.html') %>

<!--     <div class="filter">
	    <form action="js/filter.js" method="get">
	    	<label for="filter">FILTRAR: </label>
	    	<select name="filterOptions">
            <option value="todos" selected>Todos</option>
            <option value="cartas" >Cartas</option>
            <option value="fichas" >Fichas</option>
            <option value="imp3D" >Impresiones 3D</option>
            </select>
	    </form>
	</div> -->

	<main id="listaProd">
		
	</main>
	<script>

		function crearTarjeta(objeto){
			let listaProd , tarjeta , linkProd , nameProd , priceProd;

            listaProd = document.getElementById('listaProd')
			tarjeta = document.createElement('div')
			linkProd = document.createElement('a')
			nameProd = document.createElement('p')
			priceProd = document.createElement('p')

			tarjeta.setAttribute("class","tarjeta")
			tarjeta.setAttribute("style",`background-image:linear-gradient(transparent, black),url('img/${objeto.nombre}.jpg')`)
			tarjeta.style.backgroundSize = "cover"

			linkProd.setAttribute("href",`/store/${objeto.nombre}`)

			nameProd.innerText = objeto.nombre;
			priceProd.setAttribute("class","precio")
			priceProd.innerText = objeto.precio;

			linkProd.appendChild(nameProd)
			linkProd.appendChild(priceProd)
			tarjeta.appendChild(linkProd)
			listaProd.appendChild(tarjeta)
		}

        fetch('http://localhost:3000/productosJSON')
		    .then(response => response.json())
		    .then(json => data = json)
		    .then(data=>{
		    
		    data.forEach(element=> crearTarjeta(element));
        })
	</script>
	<%-include ('partials/footer.html') %>
</body>
</html>